{"ast":null,"code":"import { fromEvent, map, switchMap, from, debounceTime, distinctUntilChanged } from \"rxjs\";\nimport axios from \"axios\";\nvar search = document.getElementById('search');\nfromEvent(search, \"keyup\").pipe(debounceTime(2000), //防抖\nmap(function (event) {\n  return event.target.value;\n}), distinctUntilChanged(), //关键词一致的话忽略请求\nswitchMap(function (key) {\n  return from(axios.get(\"http://yapi.smart-xwork.cn/mock/99626/categories?q=\".concat(key))).pipe(map(function (res) {\n    return res.data;\n  }));\n})).subscribe(console.log);","map":{"version":3,"sources":["/Users/chandle/web-fronted/rxjs/src/index.js"],"names":["fromEvent","map","switchMap","from","debounceTime","distinctUntilChanged","axios","search","document","getElementById","pipe","event","target","value","key","get","res","data","subscribe","console","log"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,GAAnB,EAAwBC,SAAxB,EAAmCC,IAAnC,EAAyCC,YAAzC,EAAuDC,oBAAvD,QAAkF,MAAlF;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AAEAT,SAAS,CAACO,MAAD,EAAQ,OAAR,CAAT,CACSG,IADT,CAEgBN,YAAY,CAAC,IAAD,CAF5B,EAEoC;AACpBH,GAAG,CAAC,UAAAU,KAAK;AAAA,SAAEA,KAAK,CAACC,MAAN,CAAaC,KAAf;AAAA,CAAN,CAHnB,EAIgBR,oBAAoB,EAJpC,EAIwC;AACxBH,SAAS,CAAC,UAAAY,GAAG,EAAI;AACd,SAAQX,IAAI,CAACG,KAAK,CAACS,GAAN,8DAAgED,GAAhE,EAAD,CAAJ,CAA6EJ,IAA7E,CACAT,GAAG,CAAC,UAAAe,GAAG;AAAA,WAAEA,GAAG,CAACC,IAAN;AAAA,GAAJ,CADH,CAAR;AAGF,CAJQ,CALzB,EAWSC,SAXT,CAWmBC,OAAO,CAACC,GAX3B","sourcesContent":["import {fromEvent, map, switchMap, from, debounceTime, distinctUntilChanged} from \"rxjs\";\n\nimport axios from \"axios\";\n\nconst search = document.getElementById('search');\n\nfromEvent(search,\"keyup\")\n        .pipe(\n                debounceTime(2000), //防抖\n                map(event=>event.target.value),\n                distinctUntilChanged(), //关键词一致的话忽略请求\n                switchMap(key => {\n                   return  from(axios.get(`http://yapi.smart-xwork.cn/mock/99626/categories?q=${key}`)).pipe(\n                           map(res=>res.data)\n                   )\n                })\n        )\n        .subscribe(console.log)\n"]},"metadata":{},"sourceType":"module"}